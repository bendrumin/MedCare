<div ng-include="'views/partials/nav.html'"></div>
<div class="container mainSection">

  <div class="container" ng-controller="PeopleController as patient">
    <div class="col-md-12 inputForm">

      <div class="row">
        <form>
          <fieldset>
            <!-- Form Name -->
            <legend>Patient Intake</legend>
            <!-- Text input-->
            <div class="col-md-4 col-sm-12 borderRight">

              <div class="form-group">
                <div>
                  <label for="fullName">Patient Name</label>
                  <input id="fullName" name="fullName" ng-model="patient.newPerson.name" type="text" placeholder="Name" class="form-control input-md">
                </div>
              </div>

              <!-- Text input-->
              <div class="form-group">
                <div>
                  <label for="phoneNumber">Phone Number</label>
                  <!-- Replace with SMS reminder once Twillio works -->
                  <input id="phoneNumber" name="phoneNumber" ui-mask="999-999-9999" ng-model="patient.newPerson.phoneNumber" type="text" class="form-control input-md">

                </div>
              </div>

              <!-- Textarea -->
              <div class="form-group">
                <div>
                  <label for="notes">Notes</label>
                  <textarea class="form-control" id="notes" name="notes" ng-model="patient.newPerson.notes"></textarea>
                </div>
              </div>
              <div class="form-group">
                <div>
                  <label for="medication">Medication</label>
                  <input name="medication" type="text" placeholder="" ng-model="patient.newPerson.medication" class="form-control input-md">
                </div>
              </div>

              <!-- Text input-->
              <div class="form-group">
                <div>
                  <label for="dosage">Dosage</label>
                  <input name="dosage" type="text" placeholder="" ng-model="patient.newPerson.dosage" class="form-control input-md">
                </div>
              </div>

              <p>
                <p>Adding a medication is not required</p>
              </p>

            </div>

            <div class="col-md-2">
              <div class="form-group">
                <label for="">What time</label>
              <input type="time" name="" ng-model="patient.newPerson.timeOne" class="form-control input-md" value="">
            </div>
              <div class="form-group">
                <label for="">Second Pill</label>
              <input type="time" name="" ng-model="patient.newPerson.timeTwo" class="form-control input-md" value="">
            </div>
              <div class="form-group">
                <label for="">Third Pill</label>
              <input type="time" name="" ng-model="patient.newPerson.timeThree" class="form-control input-md" value="">
            </div>
              <div class="form-group">
                <label for="">Fourth Pill</label>
              <input type="time" name="" ng-model="patient.newPerson.timeFour" class="form-control input-md" value="">
            </div>
              <div class="form-group">
                <label for="">Fifth Pill</label>
              <input type="time" name="" ng-model="patient.newPerson.timeFive" class="form-control input-md" value="">
            </div>
            <button type="button" class="btn btn-link btn-sm pull-right addMed" name="button" ng-click="patient.addMedication(patient.newPerson.medication, patient.newPerson.dosage, patient.newPerson.timeOne, patient.newPerson.timeTwo, patient.newPerson.timeThree, patient.newPerson.timeFour, patient.newPerson.timeFive)">Add Medication</button>

            </div>


            <div class="col-md-6 col-sm-12">
              <table class="table table-responsive medList">
                <thead>
                  <tr>
                    <th>
                      Medication
                    </th>
                    <th>
                      Dosage
                    </th>
                    <th>
                      What time
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="meds in patient.allMeds" >
                    <td>
                      <p class="medicationList">{{meds.medication}}</p>
                    </td>
                    <td>
                      <p>{{meds.dosage}}</p>
                    </td>
                    <td>
                      <p>{{meds.timeOne | date: "hh:mm a"}}</p>
                      <p>{{meds.timeTwo | date: "hh:mm a"}}</p>
                      <p>{{meds.timeThree | date: "hh:mm a"}}</p>
                      <p>{{meds.timeFour | date: "hh:mm a"}}</p>
                      <p>{{meds.timeFive | date: "hh:mm a"}}</p>
                    </td>
                  </tr>

                </tbody>

              </table>
            </div>

          </div>

        </div>

        <div class="container">
          <div class="row">
            <div class="col-md-10">

            </div>
            <div class="col-md-2">
              <button class="btn btnWhite btn-lightBlue btn-md" ng-click="patient.addPerson(patient.newPerson.name, patient.newPerson.phoneNumber, patient.newPerson.notes);">Add Patient</button>

            </div>
          </div>
        </div>

      </fieldset>
    </form>

  </div>
</div>

</div>
